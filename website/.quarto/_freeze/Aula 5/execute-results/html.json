{
  "hash": "fc52b223c8840c5c1363ca733da5d017",
  "result": {
    "markdown": "---\ntitle: \"Gráficos em ggplot - parte 2\"\nformat: html\n---\n\n\nContinuando a aula antetior sobre a construção de gráficos em ggplot, nessa aula veremos alguns outros modelos de gráficos disponíveis no pacote \"ggplot2()\".\n\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-1_7a736cc610836902c77d2427003e98c3'}\n\n```{.r .cell-code}\nwarning(FALSE)\n\nlibrary (tidyverse)\nlibrary (readxl)\n\nmg <- read_excel(\"dados-diversos.xlsx\")\n```\n:::\n\n\n## Visualização de dados em gráficos\n\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-2_dc1b9c1b1c9ab2fac9abd2488271ff90'}\n\n```{.r .cell-code}\nmg |> ggplot (aes(trat,comp))+\n  geom_boxplot(outlier.color = NA,\n               fill = \"yellow\",\n               size = 0.5,\n               width = 0.2) +\n  geom_jitter(width = 0.15,\n              height = 0,\n              size = 2,\n              color = \"black\") +\n  scale_y_continuous(limits = c(7,19), n.breaks = 6) +\n  labs (y = \"Lesion Size (mm)\", x = \"\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#Nesse caso a função \"ggsave()\" está, além de salvando a imagem em \".png\", criando uma pasta chamada \"figuras\", onde as imagens serão salvas.\n\nggsave (\"figuras/plot2.png\", bg = \"white\")\n```\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-3_0c2e2c66a847bea2830aa30ce7239ab1'}\n\n```{.r .cell-code}\nmg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp), comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_col (fill = \"purple\",\n            width = 0.3,\n            color = \"black\") +\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean , \n                    ymax = comp_mean + comp_sd,\n                    width = 0))\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-4_835cb61df4f13062587d8e446f711043'}\n\n```{.r .cell-code}\np_box = mg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp), comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_col (fill = \"purple\",\n            width = 0.3,\n            color = \"black\") +\n  geom_point ()+\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean - comp_sd , \n                    ymax = comp_mean + comp_sd,\n                    width = 0.05)) +\n  labs (y = \"Lesion Size (mm)\", x = \"\")\n\np_box\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-5_ddd60bd716896ce9ddf2a7208de3eba5'}\n\n```{.r .cell-code}\nmg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp),\n            comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_point ()+\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean - comp_sd , \n                    ymax = comp_mean + comp_sd,\n                    width = 0.05)) +\n  theme_minimal() +\n  labs (y = \"Lesion Size (mm)\", x = \"\")\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave (\"figuras/plot2.2.png\", bg = \"white\", \n        width = 4, \n        height = 4)\n```\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-6_9fb21eb200a228c793106afc3c4848c0'}\n\n```{.r .cell-code}\np_means = mg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp),\n            comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_point ()+\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean - comp_sd , \n                    ymax = comp_mean + comp_sd,\n                    width = 0.05)) +\n  theme_minimal() +\n  labs (y = \"Lesion Size (mm)\", x = \"\")\n\np_means\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Comparação de dois gráficos\n\nCom o pacote \"patchwork\" é possível combinar ggplots separados em um mesmo gráfico.\n\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-7_b6c49778fd4087a47b83c62569be7816'}\n\n```{.r .cell-code}\nlibrary (patchwork)\n\np_box | p_means\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-8_e5d2dfc235b13e5d4e61657bf5f8bb65'}\n\n```{.r .cell-code}\nlibrary (patchwork)\n\np_box / p_means\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-9_126719c34847767038771d411b69b070'}\n\n```{.r .cell-code}\nlibrary (patchwork)\n\n(p_box | p_means) +\n  plot_annotation(tag_levels = \"A\",\n                  title = \"Graphics that impress\")\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#O \"plot_annotation()\" adiciona ao seu \"patchwork\" informações úteis como títulos, legendas, fonte, etc.\n\nggsave (\"figuras/combined.png\")\n```\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-10_b14ebdcee190acfd4cce7a60e2ab53bf'}\n\n```{.r .cell-code}\nsurvey <- read_excel(\"dados-diversos.xlsx\", sheet = \"survey\")\n\nsurvey |> \n  filter (state == \"RS\") |> \n  count (species) |> \n  ggplot(aes(species, n)) +\n  geom_col(width = 0.3,\n           fill = \"darkblue\",\n           color = \"black\") +\n  coord_flip () +\n  labs (x = \"\", y = \"Number of isolates\", \n        title = \"Graphics that impress\",\n        subtitle = \"I made it\") +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#A função \"coord_flip()\" cria gráficos horizontais.\n\nggsave (\"figuras/barplot.png\", bg = \"white\")\n```\n:::\n\n::: {.cell hash='Aula-5_cache/html/unnamed-chunk-11_0d3dcedc971b923f7c9e69df9800064d'}\n\n```{.r .cell-code}\nsurvey <- read_excel(\"dados-diversos.xlsx\", sheet = \"survey\")\n\nsurvey |> \n  filter (state == \"RS\") |> \n  count (species, residue) |> \n  ggplot(aes(species, n)) +\n  geom_col(width = 0.3,\n           fill = \"darkblue\",\n           color = \"black\") +\n  coord_flip () +\n  facet_wrap(~residue, ncol = 1) +\n  labs (x = \"\", y = \"Number of isolates\", \n        title = \"Graphics that impress\",\n        subtitle = \"I made it\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](Aula-5_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave (\"figuras/barplot2.png\", bg = \"white\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}