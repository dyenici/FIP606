{"title":"Gráficos em ggplot - parte 2","markdown":{"yaml":{"title":"Gráficos em ggplot - parte 2","format":"html"},"headingText":"Visualização de dados em gráficos","containsRefs":false,"markdown":"\n\nContinuando a aula antetior sobre a construção de gráficos em ggplot, nessa aula veremos alguns outros modelos de gráficos disponíveis no pacote \"ggplot2()\".\n\n```{r}\nwarning(FALSE)\n\nlibrary (tidyverse)\nlibrary (readxl)\n\nmg <- read_excel(\"dados-diversos.xlsx\")\n```\n\n\n```{r}\nmg |> ggplot (aes(trat,comp))+\n  geom_boxplot(outlier.color = NA,\n               fill = \"yellow\",\n               size = 0.5,\n               width = 0.2) +\n  geom_jitter(width = 0.15,\n              height = 0,\n              size = 2,\n              color = \"black\") +\n  scale_y_continuous(limits = c(7,19), n.breaks = 6) +\n  labs (y = \"Lesion Size (mm)\", x = \"\") +\n  theme_minimal()\n\n#Nesse caso a função \"ggsave()\" está, além de salvando a imagem em \".png\", criando uma pasta chamada \"figuras\", onde as imagens serão salvas.\n\nggsave (\"figuras/plot2.png\", bg = \"white\")\n```\n\n```{r}\nmg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp), comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_col (fill = \"purple\",\n            width = 0.3,\n            color = \"black\") +\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean , \n                    ymax = comp_mean + comp_sd,\n                    width = 0))\n```\n\n```{r}\np_box = mg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp), comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_col (fill = \"purple\",\n            width = 0.3,\n            color = \"black\") +\n  geom_point ()+\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean - comp_sd , \n                    ymax = comp_mean + comp_sd,\n                    width = 0.05)) +\n  labs (y = \"Lesion Size (mm)\", x = \"\")\n\np_box\n```\n\n```{r}\nmg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp),\n            comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_point ()+\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean - comp_sd , \n                    ymax = comp_mean + comp_sd,\n                    width = 0.05)) +\n  theme_minimal() +\n  labs (y = \"Lesion Size (mm)\", x = \"\")\n\nggsave (\"figuras/plot2.2.png\", bg = \"white\", \n        width = 4, \n        height = 4)\n```\n\n```{r}\np_means = mg |> \n  group_by (trat) |> \n  summarise(comp_mean = mean (comp),\n            comp_sd = sd (comp)) |> \n  ggplot (aes(trat, comp_mean)) +\n  geom_point ()+\n   scale_y_continuous(limits = c(0,20), n.breaks = 6) +\n  geom_errorbar(aes(ymin = comp_mean - comp_sd , \n                    ymax = comp_mean + comp_sd,\n                    width = 0.05)) +\n  theme_minimal() +\n  labs (y = \"Lesion Size (mm)\", x = \"\")\n\np_means\n```\n\n## Comparação de dois gráficos\n\nCom o pacote \"patchwork\" é possível combinar ggplots separados em um mesmo gráfico.\n\n```{r}\nlibrary (patchwork)\n\np_box | p_means\n```\n\n```{r}\nlibrary (patchwork)\n\np_box / p_means\n```\n\n```{r}\nlibrary (patchwork)\n\n(p_box | p_means) +\n  plot_annotation(tag_levels = \"A\",\n                  title = \"Graphics that impress\")\n\n#O \"plot_annotation()\" adiciona ao seu \"patchwork\" informações úteis como títulos, legendas, fonte, etc.\n\nggsave (\"figuras/combined.png\")\n```\n\n```{r}\nsurvey <- read_excel(\"dados-diversos.xlsx\", sheet = \"survey\")\n\nsurvey |> \n  filter (state == \"RS\") |> \n  count (species) |> \n  ggplot(aes(species, n)) +\n  geom_col(width = 0.3,\n           fill = \"darkblue\",\n           color = \"black\") +\n  coord_flip () +\n  labs (x = \"\", y = \"Number of isolates\", \n        title = \"Graphics that impress\",\n        subtitle = \"I made it\") +\n  theme_classic()\n\n#A função \"coord_flip()\" cria gráficos horizontais.\n\nggsave (\"figuras/barplot.png\", bg = \"white\")\n```\n\n```{r}\nsurvey <- read_excel(\"dados-diversos.xlsx\", sheet = \"survey\")\n\nsurvey |> \n  filter (state == \"RS\") |> \n  count (species, residue) |> \n  ggplot(aes(species, n)) +\n  geom_col(width = 0.3,\n           fill = \"darkblue\",\n           color = \"black\") +\n  coord_flip () +\n  facet_wrap(~residue, ncol = 1) +\n  labs (x = \"\", y = \"Number of isolates\", \n        title = \"Graphics that impress\",\n        subtitle = \"I made it\") +\n  theme_bw()\n\nggsave (\"figuras/barplot2.png\", bg = \"white\")\n```\n\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":true,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"Aula 5.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.269","editor":"visual","theme":"lux","title":"Gráficos em ggplot - parte 2"},"extensions":{"book":{"multiFile":true}}}}}